---
title: 《JS高级程序》基本概念[2]
date: 2016-12-27
---
## 操作符
ECMA-262描述了一组用于操作数据值的操作符，包括算数操作符，位操作符，关系操作符和相等操作符。可使用于很多值，甚至对象。但是在应用于对象时响应的操作符都会调用对象的valueOf()或者toString方法以便取得可以操作的值。
  * 一元操作符
    * 递增和递减操作符
    * 一元加和减操作符对数值不会产生任何影响，但对非数值时会像Number()转型函数一样对值执行转换。
  * 位操作符：不操作64位的值，而是先将64转换位32位的整数然后在执行操作再将结果转化为64位。对于有符号的整数第32位用于表示符号(符号位)；
  * 按位非(\~)：返回数值的反码。
  * 按位与(\&)：全1为1其余为0。
  * 按位与(\|)：全0为0其余为1。
  * 按位与(\^)：相同为0，不同为1。
  * 左移`<<`：`var new = old << 5`表示向左移动5位；
  * 有符号的右移`>>`：保留符号位；
  * 无符号的右移`>>》`：保留符号位；
  * 无符号的右移`>>>`
  * 布尔操作符：非NOT，与AND，或OR
    * 逻辑非`!`：可用于任何值，无论这个值是什么数据类型。都会返回一个布尔值。如果使用两个逻辑非操作符实际上就会模拟Boolean()转型函数的行为。
      * 如果是对象返回false
      * 如果是空字符返回true
      * 如果是非空字符串返回false
      * 如果是数值0返回true
      * 如果是非数值包括Infinity返回false
      * 如果是null返回true
      * 如果是NaN返回true
      * 如果是undefined返回true
    * 逻辑与`&&`：有两个操作数，属于短路操作即如果第一个操作数能够决定结果，那么就不会再对第二个操作数求值了。
    * 逻辑或`||`：有两个操作数，常用语赋值语句。`var myobject = preferobject || backupobject`。
  * 乘性操作符
    * 乘法\*规则：
      * 如果都是数值按常规乘法计算，如果超过了ECMAScript数值的表示范围，则返回Infinity或-Infinity；
      * 如果有一个操作数未NaN则结果为NaN;
      * 如果Infinity与0相乘结果为NaN;
      * 如果Infinity与非0数值相乘，结果为Infinity或-Infinity取决于有符号操作数的符号;
      * 如果Infinity与Infinity结果为Infinity;
      * 如果有一个操作数不是数值，则在后台调用Number()转换后再用以上规则。
    * 除法`/`
    * 求模`%`
  * 加性操作符：忽略加法操作中数据类型是ECMAScript编程中最常见的一个错误；
  ```js
    var num1 = 5;
    var num2 = 10;
    var message = "The sum of 5 and 10 is " + num1 + num2;
    // 可加圆括号解决这个问题 var message = "The sum of 5 and 10 is " + (num1 + num2);
    alert(message); //"The sum of 5 and 10 is 15"
  ```
  * 减性操作符：规则与前面类似；
  * 关系操作符：`小于<，大余>，小于等于<=，大于等于>=`，字符串比较是比较字符编码的大小，任何与NaN比较的结果都为false；
  * 相等操作符：对象的比较比较复杂，提供的解决方案是提供两组操作符：相等`==`和不相等`!=`-先转换再比较，全等`===`和不全等`!==`-仅比较不转换；
  * 条件操作符：`varialbe = boolean_expression ? true_value : false_value`;
  * 赋值操作：`varialbe = boolean_expression ? true_value : false_value`;
    * `*=`乘赋值
    * `/=`除赋值
    * `%=`模赋值
    * `+=`加赋值
    * `-=`减赋值
    * `<<=`左移赋值
    * `>>=`有符号右移赋值
    * `>>>=`无符号右移赋值
    这些操作符只是简化赋值操作，使用它们不会带来任何性能提升。
  * 逗号操作符：使用逗号操作符可以在一条语句中执行多个操作，比如声明多个变量。此外还可以用于赋值。`var num = (5,1,2)`由于num的最后一项是0所以其值为0；

## 语句

  * ### if语句
  `if(condition) statement1 else statement2` condition可以为任意表达式，这个表达式的结果不一定是布尔值。ECMAScript会自动调用Boolean转换函数

  * ### do-while语句
  do-while是一种后测试循环语句，即只有在循环体中代码执行之后，才会测试出口条件。
    ```js
      do {
        statement
      } while (expression);
      // 下面是一个示例：
      var i = 0;
      do {
        i += 2;
      } while (i < 10);
      alert(i);
    ```

  * ### while语句
  while是一种前测试循环语句，即只有在循环体中代码执行之后，才会测试出口条件。
    ```js
      while(expression) statement
    ```

  * ### for语句
  for是一种前测试循环语句，即只有在循环体中代码执行之后，才会测试出口条件。
    ```js
      for (initialization; expression; post-loop-expression) statement
  ```

  * ### for-in语句
  for-in是一种精准的迭代语句，可以用来枚举对象的属性。
    ```js
      for (property in expression) statement
    ```

  * ### label语句
  使用label语句可以在代码中添加标签，以便将来使用。
    ```js
      label:statement
    ```

  * ### break和continue语句
  使用label语句可以在代码中添加标签，以便将来使用。

  * ### switch语句
    ```js
    switch (expression) {
      case value: statement
        break;
      case value: statement
        break;
      case value: statement
        break;
      case value: statement
        break;
      default：staetment
    }
    // 特殊用法
    var num = 25;
    switch (true) {
      case num < 0:
        alert("Less than 0.");
        break;
      case num >= 0 && num <= 10:
        alert("Between 0 and 10.");
        break;
      case num > 10 && num <= 20:
        alert("Between 10 and 20.");
        break;
      default:
        alert("More than 20.");
    }
    ```

## 函数
函数对于任何语言来说都是一个核心概念，通过函数可以封装任意多条语句，而且可以在任何地方、任何时候调用执行。
  ```js
    function functionName(arg0, arg1,...,argN) {
      statements
    }
    // 以下是一个函数示例：
    function sayHi(name, message) {
      alert("Hello " + name + "," + message);
    }
  ```
实际上为指定函数的返回值的函数返回的是一个特殊的undefined值。 可以向函数传递任意数量的参数，并且可以通过arguments对象来访问这些参数。\r 由于不存在函数签名的特性，ECMAScript函数不能重载。
