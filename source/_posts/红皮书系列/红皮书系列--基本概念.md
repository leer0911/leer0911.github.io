---
title: 基本概念
---
任何语言的核心都必然会描述这门语言的最基本的工作原理。ECMA-262通过叫做ECMAScript的“伪语言”来描述JavaScript的基本概念。

## 语法

  * ### 区分大小写
  ECMAscript中的一切(变量、函数名电话操作符)都区分大小写。

  * ### 标识符
  指变量、函数、属性的名字，或者函数的参数。标识符可按照以下的格式组合起来一个或多个字符
    * 第一个字符必须是一个字母、下划线或者一个美元符号。
    * 其他可以是是一个字母、下划线或者一个美元符号或数字。
    * *不能把关键字、保留字、true、false、null用作标识符*

  * ### 注释
  单行`//`多行`/* */`

  * ### 严格模式
  `"use strict"`

  * ### 语句
  不要省略语句末尾的分号。

  * ## 关键字和保留字
   * 关键字
    ```
      break do instanceof typeof case else new var catch finally return
      void continue for switch while default if throw delete in try
    ```
   * 保留字,将来有可能用作关键字
    ```
      abstract enum int short boolean export interface static byte extends long super
      char final native synchronized class float package throws const goto private
      transient debugger implements protected volatile double import public
    ```
  各个版本间的保留字有所区别。

## 变量
ECMAScript的变量是松散类型的，所谓松散就是可以用来保留任何类型的数据。每个变量仅仅是一个用于保存值得占位符。

## 数据类型
ECMAScript有五种简单的数据类型：undefined、null、boolean、number 对一个值使用typeof操作符可能返回下列某个字符串： * undefined 如果这个值为定义;
　* bolean 如果这个值是布尔值;
　* string 如果这个值是字符串;
　* number 如果这个值是数字;
　* boject 如果这个值是对象或null;
　* function 如果这个值是函数;
typeof是操作符，尽管可以使用圆括号，但不是必须

  * ### Undefined
  undefined类型只有一个值，即特殊值undefined。在使用var声明但未对其加以初始化时，这个变量的值就是undefined。 对于尚未声明过的变量只能执行一项操作，即使用typeof操作符检测其数据类型。

  * ### Null类型
  null类型是第二个只有一个值得数据类型，这个特殊值是null。从逻辑角度来看，null值表示一个空对象指针，而这个也正是使用typeof操作符检测null值时返回Object的原因 对于尚未声明过的变量只能执行一项操作，即使用typeof操作符检测其数据类型。*如果定义的变量准备在将来用于保存对象，那么最好将其初始化为null而不是其他值* 实际上undefined值是派生自null值的，因此ECMA-262规定它们的相等性测试要返回true;

  * ### Boolean类型
  虽然boolean类型的字面量只有两个，但ECMAScript中所有类型的值都有与这两个boolean值等价的值。要讲一个值转换为其对应的boolean值，可以使用Boolean();
    * String `true`:任何非空字符串 `false`:空字符串
    * Number `true`:任何非零数值，包括无穷大 `false`:0和NaN
    * Object `true`:任何对象 `false`:null
    * Undefined `true：n/a(或N/A)是not applicable的缩写，意思是不适用` `false`:undefined
    *在流程控制语句中，可自动转换为对应的boolean值*

  * ### Number类型
  Number类型使用IEEE754格式来表示整数和浮点数值(双精度数值)。 基本的数值字面量格式是十进制整数 八进制或十六进制，八进制第一位必须是0如何使八进制的数字序列(0-7) 十六进制前两位必须是0x，后跟任何十六进制数字(0~9，A~F) *八进制在严格模式下无效* NaN，即非数值(Not a Number)，这个数值用于表示一个本来要返回数值的操作数未返回数值的情况，例如，在任何数值除以0都会导致错误此时返回NaN，因此不会影响其他代码执行 NaN有两个特点。首先，任何涉及NaN的操作都会返回NaN。其次，NaN与任何值都不相等，包括NaN本身。 针对这两个特点，定义了isNaN()函数。返回true或false这个函数接受一个参数，可以是任何值，而函数会帮我们确定这个参数是否是NaN。 某些不是数值的值会直接转换为数值如字符串“10”或boolean值。 *实际上0除以0才会返回NaN，正数除以0返回Infinity，负数除以0返回-Infinity* *在基于对象调用isNaN()函数时，会首先调用对象的valueOf()方法，然后再确定该方法返回的值是否可以转换为数值。如果不能再基于这个返回值调用toString()方法，再测试。* 有三个函数可以把非数值转换为数值：Number()、parseInt()和parseFloat()第一个函数可以用于任何数据类型，而另两个专门用于字符串转换成数值Number()转换规则如下：
    * 如果是 Boolean 值， true 和 false 将分别被转换为 1 和 0。
    * 如果是数字值，只是简单的传入和返回。
    * 如果是 null 值，返回 0。
    * 如果是 undefined，返回 NaN。
    * 如果是字符串，遵循下列规则：
      * 如果字符串中只包含数字（包括前面带正号或负号的情况），则将其转换为十进制数值，即"1"
      会变成 1， "123"会变成 123，而"011"会变成 11（注意：前导的零被忽略了）；
      * 如果字符串中包含有效的浮点格式，如"1.1"，则将其转换为对应的浮点数值（同样，也会忽
      略前导零）；
      * 如果字符串中包含有效的十六进制格式，例如"0xf"，则将其转换为相同大小的十进制整
      数值；
      * 如果字符串是空的（不包含任何字符），则将其转换为 0；
      * 如果字符串中包含除上述格式之外的字符，则将其转换为 NaN。
      * 如果是对象，则调用对象的 valueOf()方法，然后依照前面的规则转换返回的值。如果转换 的结果是 NaN，则调用对象的 toString()方法，然后再次依照前面的规则转换返回的字符 串值。

  * ### String类型
  String数据类型包含一些特殊的字符字面量，也称转义序列，用于表示非打印字符，或其他用途字符。
    ```
      \n 换行
      \t 制表
      \b 空格
      \r 回车
      \\ 斜杠
      \' 单引号
      \" 双引号
      \xnn 以十六进制nn表示一个字符
      \unnnn 以十六进制nnnn表示一个Unicode字符
    ```
  String特点：字符串是不可变的，一旦创建，它们的值就不能改变。要改变某个变量保存的字符串，首先要销毁原来的字符串，然后再用另一个包含新值的字符串填充该变量：
    ```js
      var lang = "java";
          lang = lang + "script";
    ```
  数值，布尔值，对象和字符串值都有toString这个方法但是null和undefined没有这个方法。多数情况下，调用该方法不必传递参数。但调用数值时可传递一个参数：输出数值的基数。默认情况下，返回十进制格式。但也可以输出 二进制、十进制、十六进制、 在不知道转换值是不是null或undefined的情况下还可以使用转型函数string()，这个函数能够将任何类型的值转换为字符串。String()遵循以下规则：
    * 如果值有toString()方法，则调用该方法；
      * 如果值是null则返回"null";
      * 如果值是undefined则返回"undefined";

  * ### Object类型
  对象其实是一组数据和功能的集合。对象可以通过new操作符创建。 Object的每个实例都具有下列属性和方法： * constructor：保存着用于创建当前对象的函数
    * hasOwnProperty()：用于检测给定的属性在当前对象实例中(而不是在实例原型中)是否存在。propertyName必须以字符串形式指定。
    * isPrototypeOf(object)：用于检查传入的对象是否是传入对象的原型
    * propertyIsEnumerable(propertyName)：检测给定属性是否能够使用for-in语句来枚举；
    * toLocaleString()：返回对象的字符串表示，该字符串与执行环境的地区对应；
    * toString()：返回对象的字符串表示。
    * valueOf()：返回对象的字符串，数值，布尔值表示。
    *浏览器环境中的对象，比如BOM和DOM中的对象，都属于宿主对象，ECMA-262不负责定义宿主对象。因此宿主对象也可能不会继承Object*

## 操作符
ECMA-262描述了一组用于操作数据值的操作符，包括算数操作符，位操作符，关系操作符和相等操作符。可使用于很多值，甚至对象。但是在应用于对象时响应的操作符都会调用对象的valueOf()或者toString方法以便取得可以操作的值。
  * 一元操作符
    * 递增和递减操作符
    * 一元加和减操作符对数值不会产生任何影响，但对非数值时会像Number()转型函数一样对值执行转换。
  * 位操作符：不操作64位的值，而是先将64转换位32位的整数然后在执行操作再将结果转化为64位。对于有符号的整数第32位用于表示符号(符号位)；
  * 按位非(\~)：返回数值的反码。
  * 按位与(\&)：全1为1其余为0。
  * 按位与(\|)：全0为0其余为1。
  * 按位与(\^)：相同为0，不同为1。
  * 左移`<<`：`var new = old << 5`表示向左移动5位；
  * 有符号的右移`>>`：保留符号位；
  * 无符号的右移`>>》`：保留符号位；
  * 无符号的右移`>>>`
  * 布尔操作符：非NOT，与AND，或OR
    * 逻辑非`!`：可用于任何值，无论这个值是什么数据类型。都会返回一个布尔值。如果使用两个逻辑非操作符实际上就会模拟Boolean()转型函数的行为。
      * 如果是对象返回false
      * 如果是空字符返回true
      * 如果是非空字符串返回false
      * 如果是数值0返回true
      * 如果是非数值包括Infinity返回false
      * 如果是null返回true
      * 如果是NaN返回true
      * 如果是undefined返回true
    * 逻辑与`&&`：有两个操作数，属于短路操作即如果第一个操作数能够决定结果，那么就不会再对第二个操作数求值了。
    * 逻辑或`||`：有两个操作数，常用语赋值语句。`var myobject = preferobject || backupobject`。
  * 乘性操作符
    * 乘法\*规则：
      * 如果都是数值按常规乘法计算，如果超过了ECMAScript数值的表示范围，则返回Infinity或-Infinity；
      * 如果有一个操作数未NaN则结果为NaN;
      * 如果Infinity与0相乘结果为NaN;
      * 如果Infinity与非0数值相乘，结果为Infinity或-Infinity取决于有符号操作数的符号;
      * 如果Infinity与Infinity结果为Infinity;
      * 如果有一个操作数不是数值，则在后台调用Number()转换后再用以上规则。
    * 除法`/`
    * 求模`%`
  * 加性操作符：忽略加法操作中数据类型是ECMAScript编程中最常见的一个错误；
  ```js
    var num1 = 5;
    var num2 = 10;
    var message = "The sum of 5 and 10 is " + num1 + num2;
    // 可加圆括号解决这个问题 var message = "The sum of 5 and 10 is " + (num1 + num2);
    alert(message); //"The sum of 5 and 10 is 15"
  ```
  * 减性操作符：规则与前面类似；
  * 关系操作符：`小于<，大余>，小于等于<=，大于等于>=`，字符串比较是比较字符编码的大小，任何与NaN比较的结果都为false；
  * 相等操作符：对象的比较比较复杂，提供的解决方案是提供两组操作符：相等`==`和不相等`!=`-先转换再比较，全等`===`和不全等`!==`-仅比较不转换；
  * 条件操作符：`varialbe = boolean_expression ? true_value : false_value`;
  * 赋值操作：`varialbe = boolean_expression ? true_value : false_value`;
    * `*=`乘赋值
    * `/=`除赋值
    * `%=`模赋值
    * `+=`加赋值
    * `-=`减赋值
    * `<<=`左移赋值
    * `>>=`有符号右移赋值
    * `>>>=`无符号右移赋值
    这些操作符只是简化赋值操作，使用它们不会带来任何性能提升。
  * 逗号操作符：使用逗号操作符可以在一条语句中执行多个操作，比如声明多个变量。此外还可以用于赋值。`var num = (5,1,2)`由于num的最后一项是0所以其值为0；

## 语句

  * ### if语句
  `if(condition) statement1 else statement2` condition可以为任意表达式，这个表达式的结果不一定是布尔值。ECMAScript会自动调用Boolean转换函数

  * ### do-while语句
  do-while是一种后测试循环语句，即只有在循环体中代码执行之后，才会测试出口条件。
    ```js
      do {
        statement
      } while (expression);
      // 下面是一个示例：
      var i = 0;
      do {
        i += 2;
      } while (i < 10);
      alert(i);
    ```

  * ### while语句
  while是一种前测试循环语句，即只有在循环体中代码执行之后，才会测试出口条件。
    ```js
      while(expression) statement
    ```

  * ### for语句
  for是一种前测试循环语句，即只有在循环体中代码执行之后，才会测试出口条件。
    ```js
      for (initialization; expression; post-loop-expression) statement
  ```

  * ### for-in语句
  for-in是一种精准的迭代语句，可以用来枚举对象的属性。
    ```js
      for (property in expression) statement
    ```

  * ### label语句
  使用label语句可以在代码中添加标签，以便将来使用。
    ```js
      label:statement
    ```

  * ### break和continue语句
  使用label语句可以在代码中添加标签，以便将来使用。

  * ### switch语句
    ```js
    switch (expression) {
      case value: statement
        break;
      case value: statement
        break;
      case value: statement
        break;
      case value: statement
        break;
      default：staetment
    }
    // 特殊用法
    var num = 25;
    switch (true) {
      case num < 0:
        alert("Less than 0.");
        break;
      case num >= 0 && num <= 10:
        alert("Between 0 and 10.");
        break;
      case num > 10 && num <= 20:
        alert("Between 10 and 20.");
        break;
      default:
        alert("More than 20.");
    }
    ```

## 函数
函数对于任何语言来说都是一个核心概念，通过函数可以封装任意多条语句，而且可以在任何地方、任何时候调用执行。
  ```js
    function functionName(arg0, arg1,...,argN) {
      statements
    }
    // 以下是一个函数示例：
    function sayHi(name, message) {
      alert("Hello " + name + "," + message);
    }
  ```
实际上为指定函数的返回值的函数返回的是一个特殊的undefined值。 可以向函数传递任意数量的参数，并且可以通过arguments对象来访问这些参数。\r 由于不存在函数签名的特性，ECMAScript函数不能重载。
