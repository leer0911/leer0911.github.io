---
title: 《JS高级程序》基本概念[1]
date: 2016-12-28
---
任何语言的核心都必然会描述这门语言的最基本的工作原理。ECMA-262通过叫做ECMAScript的“伪语言”来描述JavaScript的基本概念。

## 语法

  * ### 区分大小写
  ECMAscript中的一切(变量、函数名电话操作符)都区分大小写。

  * ### 标识符
  指变量、函数、属性的名字，或者函数的参数。标识符可按照以下的格式组合起来一个或多个字符
    * 第一个字符必须是一个字母、下划线或者一个美元符号。
    * 其他可以是是一个字母、下划线或者一个美元符号或数字。
    * *不能把关键字、保留字、true、false、null用作标识符*

  * ### 注释
  单行`//`多行`/* */`

  * ### 严格模式
  `"use strict"`

  * ### 语句
  不要省略语句末尾的分号。

  * ## 关键字和保留字
   * 关键字
    ```
      break do instanceof typeof case else new var catch finally return
      void continue for switch while default if throw delete in try
    ```
   * 保留字,将来有可能用作关键字
    ```
      abstract enum int short boolean export interface static byte extends long super
      char final native synchronized class float package throws const goto private
      transient debugger implements protected volatile double import public
    ```
  各个版本间的保留字有所区别。

## 变量
ECMAScript的变量是松散类型的，所谓松散就是可以用来保留任何类型的数据。每个变量仅仅是一个用于保存值得占位符。

## 数据类型
ECMAScript有五种简单的数据类型：undefined、null、boolean、number 对一个值使用typeof操作符可能返回下列某个字符串： * undefined 如果这个值为定义;
　* bolean 如果这个值是布尔值;
　* string 如果这个值是字符串;
　* number 如果这个值是数字;
　* boject 如果这个值是对象或null;
　* function 如果这个值是函数;
typeof是操作符，尽管可以使用圆括号，但不是必须

  * ### Undefined
  undefined类型只有一个值，即特殊值undefined。在使用var声明但未对其加以初始化时，这个变量的值就是undefined。 对于尚未声明过的变量只能执行一项操作，即使用typeof操作符检测其数据类型。

  * ### Null类型
  null类型是第二个只有一个值得数据类型，这个特殊值是null。从逻辑角度来看，null值表示一个空对象指针，而这个也正是使用typeof操作符检测null值时返回Object的原因 对于尚未声明过的变量只能执行一项操作，即使用typeof操作符检测其数据类型。*如果定义的变量准备在将来用于保存对象，那么最好将其初始化为null而不是其他值* 实际上undefined值是派生自null值的，因此ECMA-262规定它们的相等性测试要返回true;

  * ### Boolean类型
  虽然boolean类型的字面量只有两个，但ECMAScript中所有类型的值都有与这两个boolean值等价的值。要讲一个值转换为其对应的boolean值，可以使用Boolean();
    * String `true`:任何非空字符串 `false`:空字符串
    * Number `true`:任何非零数值，包括无穷大 `false`:0和NaN
    * Object `true`:任何对象 `false`:null
    * Undefined `true：n/a(或N/A)是not applicable的缩写，意思是不适用` `false`:undefined
    *在流程控制语句中，可自动转换为对应的boolean值*

  * ### Number类型
  Number类型使用IEEE754格式来表示整数和浮点数值(双精度数值)。 基本的数值字面量格式是十进制整数 八进制或十六进制，八进制第一位必须是0如何使八进制的数字序列(0-7) 十六进制前两位必须是0x，后跟任何十六进制数字(0~9，A~F) *八进制在严格模式下无效* NaN，即非数值(Not a Number)，这个数值用于表示一个本来要返回数值的操作数未返回数值的情况，例如，在任何数值除以0都会导致错误此时返回NaN，因此不会影响其他代码执行 NaN有两个特点。首先，任何涉及NaN的操作都会返回NaN。其次，NaN与任何值都不相等，包括NaN本身。 针对这两个特点，定义了isNaN()函数。返回true或false这个函数接受一个参数，可以是任何值，而函数会帮我们确定这个参数是否是NaN。 某些不是数值的值会直接转换为数值如字符串“10”或boolean值。 *实际上0除以0才会返回NaN，正数除以0返回Infinity，负数除以0返回-Infinity* *在基于对象调用isNaN()函数时，会首先调用对象的valueOf()方法，然后再确定该方法返回的值是否可以转换为数值。如果不能再基于这个返回值调用toString()方法，再测试。* 有三个函数可以把非数值转换为数值：Number()、parseInt()和parseFloat()第一个函数可以用于任何数据类型，而另两个专门用于字符串转换成数值Number()转换规则如下：
    * 如果是 Boolean 值， true 和 false 将分别被转换为 1 和 0。
    * 如果是数字值，只是简单的传入和返回。
    * 如果是 null 值，返回 0。
    * 如果是 undefined，返回 NaN。
    * 如果是字符串，遵循下列规则：
      * 如果字符串中只包含数字（包括前面带正号或负号的情况），则将其转换为十进制数值，即"1"
      会变成 1， "123"会变成 123，而"011"会变成 11（注意：前导的零被忽略了）；
      * 如果字符串中包含有效的浮点格式，如"1.1"，则将其转换为对应的浮点数值（同样，也会忽
      略前导零）；
      * 如果字符串中包含有效的十六进制格式，例如"0xf"，则将其转换为相同大小的十进制整
      数值；
      * 如果字符串是空的（不包含任何字符），则将其转换为 0；
      * 如果字符串中包含除上述格式之外的字符，则将其转换为 NaN。
      * 如果是对象，则调用对象的 valueOf()方法，然后依照前面的规则转换返回的值。如果转换 的结果是 NaN，则调用对象的 toString()方法，然后再次依照前面的规则转换返回的字符 串值。

  * ### String类型
  String数据类型包含一些特殊的字符字面量，也称转义序列，用于表示非打印字符，或其他用途字符。
    ```
      \n 换行
      \t 制表
      \b 空格
      \r 回车
      \\ 斜杠
      \' 单引号
      \" 双引号
      \xnn 以十六进制nn表示一个字符
      \unnnn 以十六进制nnnn表示一个Unicode字符
    ```
  String特点：字符串是不可变的，一旦创建，它们的值就不能改变。要改变某个变量保存的字符串，首先要销毁原来的字符串，然后再用另一个包含新值的字符串填充该变量：
    ```js
      var lang = "java";
          lang = lang + "script";
    ```
  数值，布尔值，对象和字符串值都有toString这个方法但是null和undefined没有这个方法。多数情况下，调用该方法不必传递参数。但调用数值时可传递一个参数：输出数值的基数。默认情况下，返回十进制格式。但也可以输出 二进制、十进制、十六进制、 在不知道转换值是不是null或undefined的情况下还可以使用转型函数string()，这个函数能够将任何类型的值转换为字符串。String()遵循以下规则：
    * 如果值有toString()方法，则调用该方法；
      * 如果值是null则返回"null";
      * 如果值是undefined则返回"undefined";

  * ### Object类型
  对象其实是一组数据和功能的集合。对象可以通过new操作符创建。 Object的每个实例都具有下列属性和方法： * constructor：保存着用于创建当前对象的函数
    * hasOwnProperty()：用于检测给定的属性在当前对象实例中(而不是在实例原型中)是否存在。propertyName必须以字符串形式指定。
    * isPrototypeOf(object)：用于检查传入的对象是否是传入对象的原型
    * propertyIsEnumerable(propertyName)：检测给定属性是否能够使用for-in语句来枚举；
    * toLocaleString()：返回对象的字符串表示，该字符串与执行环境的地区对应；
    * toString()：返回对象的字符串表示。
    * valueOf()：返回对象的字符串，数值，布尔值表示。
    *浏览器环境中的对象，比如BOM和DOM中的对象，都属于宿主对象，ECMA-262不负责定义宿主对象。因此宿主对象也可能不会继承Object*
