---
title: 《JS高级程序》变量、作用域和内存问题[1]
date: 2016-12-26
---
任何语言的核心都必然会描述这门语言的最基本的工作原理。ECMA-262通过叫做ECMAScript的“伪语言”来描述JavaScript的基本概念。

## 基本类型和引用类型的值
ECMAScript变量可能包含两种不同数据类型的值：基本类型值和引用类型值。基本类型值指的是简单的数据段，而引用类型值指那些可能由多个值构成的对象。

引用类型的值是保存在内存中的对象。JavaScript不允许直接访问内存中的位置，也就是说不能直接操作对象的内存空间。在操作对象时，实际上是在操作对象 的引用而不是实际的对象。

*   ### 动态属性
    只能给引用类型动态添加属性，以便将来使用。

*   ### 复制变量值
    基本类型复制是独立的，引用类型复制将指向同一对象，对任意一个对象赋值都将影响另一个变量副本。

*   ### 传递参数
    参数只能按值传递，引用类型同参数传递后其指向对象在堆内存中只有一个，而且是全局对象。

    ```js
      // 按值传递
      function setName(obj) {
        obj.name = "Nicholas";
        obj = new Object();
        obj.name = "Greg";
      }
      var person = new Object();
      setName(person);
      alert(person.name); //"Nicholas"
    ```

*   ### 检测类型
    要检测一个变量是不是基本数据类型，typeof操作符是最佳的工具。但在检测引用类型时这个操作符用处不大。通常我们并不是想知道某个值是对象，而是 想知道它是什么类型的对象。为此，ECMAScript提供了instanceof操作符，其语法：`result = variable instanceof constructor`根据规定所有引 用类型的值都是Object的实例。因此，在检测一个引用类型值和Object构造函数时，instanceof操作符始终会返回true。 *使用typeof检测正则表达式时返回的的是function*
